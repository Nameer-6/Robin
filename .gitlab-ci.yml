stages:
  - test

daily_automation_job:
  stage: test
  image: ruby:3.1  # Use your existing ruby image or switch to a base image
  script:
    - echo "Updating packages and installing Maven and JDK..."
    - apt-get update -y
    - apt-get install -y openjdk-11-jdk maven  # Install Maven and OpenJDK 11
    - java -version  # Verify Java version
    - mvn -v  # Verify Maven version
    - echo "Running automation tests..."
    - mvn clean test  # Run your tests
  artifacts:
    paths:
      - target/cucumber-reports/
  only:
    - schedules  # Make sure it runs only on a schedule
