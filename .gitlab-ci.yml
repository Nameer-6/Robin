stages:
  - test

daily_automation_job:
  stage: test
  image: ruby:3.1  # Keep the original ruby image
  script:
    - echo "Installing Maven and JDK..."
    - apt-get update && apt-get install -y maven openjdk-11-jdk  # Install Maven and OpenJDK 11
    - mvn -v  # Verify Maven is installed correctly
    - echo "Running automation tests..."
    - mvn clean test  # Run the tests
  artifacts:
    paths:
      - target/cucumber-reports/
  only:
    - schedules  # Ensure the job runs based on your schedule
